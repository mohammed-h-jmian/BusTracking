@model DashboardViewModel

@{
    ViewData["Title"] = "Home Page";
}

@section Css{

}
@section Scripts{
    <script src="~/AdminSection/js/admin-charts.js"></script>
}


<div class="container-fluid">
    <!-- Breadcrumbs-->
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="#">Dashboard</a>
        </li>
        <li class="breadcrumb-item active">My Dashboard</li>
    </ol>
    <!-- Icon Cards-->
    <div class="row">
        <div class="col-xl-3 col-sm-6 mb-3">
            <div class="card dashboard text-white bg-primary o-hidden h-100">
                <div class="card-body">
                    <div class="card-body-icon">
                        <i class="fa fa-university"></i>
                    </div>
                    <div class="mr-5">
                        <h5>@Model.NumberOfCompany Companies</h5>
                    </div>
                </div>
                <a class="card-footer text-white clearfix small z-1" href="~/Admin/Company">
                    <span class="float-left">View Details</span>
                    <span class="float-right">
                        <i class="fa fa-angle-right"></i>
                    </span>
                </a>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
            <div class="card dashboard text-white bg-warning o-hidden h-100">
                <div class="card-body">
                    <div class="card-body-icon">
                        <i class="fa fa-bus"></i>
                    </div>
                    <div class="mr-5">
                        <h5>@Model.NumberOfBus Buses</h5>
                    </div>
                </div>
                <a class="card-footer text-white clearfix small z-1" href="~/Admin/Bus">
                    <span class="float-left">View Details</span>
                    <span class="float-right">
                        <i class="fa fa-angle-right"></i>
                    </span>
                </a>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
            <div class="card dashboard text-white bg-success o-hidden h-100">
                <div class="card-body">
                    <div class="card-body-icon">
                        <i class="fa fa-level-up"></i>
                    </div>
                    <div class="mr-5">
                        <h5>@Model.NumberOfLine Lines</h5>
                    </div>
                </div>
                <a class="card-footer text-white clearfix small z-1" href="~/Admin/Line">
                    <span class="float-left">View Details</span>
                    <span class="float-right">
                        <i class="fa fa-angle-right"></i>
                    </span>
                </a>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
            <div class="card dashboard text-white bg-danger o-hidden h-100">
                <div class="card-body">
                    <div class="card-body-icon">
                        <i class="fa fa-map-marker"></i>
                    </div>
                    <div class="mr-5">
                        <h5>@Model.NumberOfStopPoint Stop Points</h5>
                    </div>
                </div>
                <a class="card-footer text-white clearfix small z-1" href="~/Admin/StopPoint">
                    <span class="float-left">View Details</span>
                    <span class="float-right">
                        <i class="fa fa-angle-right"></i>
                    </span>
                </a>
            </div>
        </div>
    </div>
    <!-- /cards -->
    <h2></h2>
    <div class="box_general padding_bottom">
        <div class="header_box version_2">
            <h2><i class="fa fa-bar-chart"></i>Statistic</h2>
        </div>
        <canvas id="myAreaChart" width="100%" height="30" style="margin:45px 0 15px 0;"></canvas>
    </div>

    <div>
        <!-- Example DataTables Card-->
        <div class="card mb-3">
            <div class="card-header">
                <i class="fa fa-table"></i> Buses Table
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>IMG</th>
                                <th>Number</th>
                                <th>Name</th>
                                <th>Company</th>
                                <th>IsActive</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>ID</th>
                                <th>IMG</th>
                                <th>Number</th>
                                <th>Name</th>
                                <th>Company</th>
                                <th>IsActive</th>
                            </tr>
                        </tfoot>
                        <tbody>
                            @if (Model.Buses.Any())
                            {
                                foreach (var bus in Model.Buses)
                                {
                                    <tr>
                                        <td>@bus.Id</td>
                                        <td> <a href="~/Admin/Bus/Details/@bus.Id"><img src="~/@bus.ImgPath" alt="" style="width:100px;"></a></td>
                                        <td><a href="~/Admin/Bus/Details/@bus.Id"><strong>@bus.Number</strong></a></td>
                                        <td><a href="~/Admin/Bus/Details/@bus.Id"><strong>@bus.Name</strong></a></td>
                                        <td>@bus.Company.Name</td>
                                        <td>
                                            @*<i class="pending">Pending</i>*@
                                            @if (bus.IsActive)
                                            {
                                                <i class="approved">Active</i>
                                            }
                                            else
                                            {

                                                <i class="cancel">Inactive</i>

                                            }
                                        </td>
                                    </tr>
                                }
                            }


                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- /tables-->
    </div>

    <div>
        <!-- Example DataTables Card-->
        <div class="card mb-3">
            <div class="card-header">
                <i class="fa fa-table"></i> Companies Table
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Logo</th>
                                <th>Company</th>
                                <th>Address</th>
                                <th>Phone Number</th>
                                <th>Facebook</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>ID</th>
                                <th>Logo</th>
                                <th>Company</th>
                                <th>Address</th>
                                <th>Phone Number</th>
                                <th>Facebook</th>
                                <th>Status</th>
                            </tr>
                        </tfoot>
                        <tbody>
                            @foreach (var company in Model.Companies)
                            {
                                <tr>
                                    <td>@company.Id</td>
                                    <td> <a href="~/Admin/Company/Details/@company.Id"><img src="~/@company.Logo" alt="" style="width:100px;"></a></td>
                                    <td><a href="~/Admin/Company/Details/@company.Id">@company.Name</a></td>
                                    <td>@company.Address</td>
                                    <td>@company.PhoneNumber</td>
                                    <td>
                                        @if (company.Facebook != null)
                                        {
                                            <a href="@company.Facebook" target="_blank">Visit Facebook</a>
                                        }
                                        else
                                        {
                                            @:Null
                                        }

                                    </td>
                                    <td>
                                        @if (company.Status == Status.Activated)
                                        {
                                            <i class="approved">Active</i>
                                        }
                                        else
                                        {
                                            <i class="pending">Pending</i>
                                        }



                                    </td>
                                    
                                </tr>
                            }

                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- /tables-->
    </div>
    <div>
        <!-- Example DataTables Card-->
        <div class="card mb-3">
            <div class="card-header">
                <i class="fa fa-table"></i> Lines Table
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Company</th>
                                <th>Bus</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Company</th>
                                <th>Bus</th>
                                <th>Status</th>
                           </tr>
                        </tfoot>
                        <tbody>
                            @if (Model.Lines.Any())
                            {
                                foreach (var line in Model.Lines)
                                {
                                    <tr>
                                        <td>@line.Id</td>
                                        <td><a href="~/Admin/Line/Details/@line.Id">@line.Name</a></td>
                                        <td>@line.Company.Name</td>
                                        @*<td>@line.Bus.Name</td>*@
                                        <td>
                                            @if (line.Bus != null)
                                            {
                                                <a href="~/Admin/Bus/Details/@line.Bus.Id">@line.Bus.Name</a>
                                            }
                                            else
                                            {
                                                <a>Null</a>
                                            }
                                        </td>
                                        <td>
                                            <i class="@(line.Bus != null ? "approved" : "cancel")">
                                                @(line.Bus != null ? "Active" : "Inactive")
                                            </i>

                                        </td>

                                    </tr>
                                }
                            }


                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div>
        <!-- Example DataTables Card-->
        <div class="card mb-3">
            <div class="row card-header">
                <div> <i class="fa fa-table"></i> Stop Points Table</div>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Latitude</th>
                                <th>Longitude</th>
                                <th>Address</th>
                                <th>City</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Latitude</th>
                                <th>Longitude</th>
                                <th>Address</th>
                                <th>City</th>
                           </tr>
                        </tfoot>
                        <tbody>
                            @if (Model.StopPoints.Any())
                            {
                                foreach (var point in Model.StopPoints)

                                {
                                    <tr>
                                        <td>@point.Id</td>
                                        <td><a href="~/Admin/StopPoint/Details/@point.Id">@point.Name</a></td>
                                        <td>@point.Latitude</td>
                                        <td>@point.Longitude</td>
                                        <td>@point.Address</td>
                                        <td>@point.City.Name</td>
                                    </tr>
                                }
                            }

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- /tables-->

    </div>

</div>
